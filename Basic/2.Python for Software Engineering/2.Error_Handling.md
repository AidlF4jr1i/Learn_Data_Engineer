# üìå Pengenalan Error Handling dan Debugging pada Python

Dalam pemrograman Python, **error (kesalahan)** dan **bug** adalah hal yang sering ditemui, terutama bagi pemula.  
Error dapat terjadi karena kesalahan sintaks, penggunaan variabel yang tidak tepat, atau logika yang salah dalam program.  

Secara umum, error dalam Python terbagi menjadi tiga jenis utama:  

1. **Syntax Error** ‚Üí kesalahan tata bahasa (penulisan kode)  
2. **Exception Error** ‚Üí kesalahan yang muncul saat program dijalankan (runtime)  
3. **Logical Error** ‚Üí kesalahan logika, di mana program berjalan tapi hasilnya tidak sesuai harapan  

Selain itu, Python juga menyediakan mekanisme untuk **debugging** serta menangani error menggunakan **try-except-raise-finally**.  
Materi ini akan membantu Anda memahami error handling dengan contoh-contoh nyata, serta bagaimana menulis kode Python yang lebih rapi sesuai dengan **PEP 8 (Python Enhancement Proposal 8)**.  

---

# üîπ Jenis-Jenis Error pada Python

## 1. Syntax Error
**Syntax Error** adalah kesalahan dalam penulisan kode (tata bahasa Python). Kesalahan ini akan langsung terdeteksi oleh interpreter sebelum program dijalankan.  

Contoh umum:  

| Nama Error        | Artinya                                           |
|-------------------|---------------------------------------------------|
| `SyntaxError`     | Kesalahan tata bahasa dalam pemrograman Python    |
| `IndentationError`| Kesalahan penggunaan indentasi (spasi/tab)        |

---

## 2. Exception Error
Jika program bebas dari syntax error, maka kode dapat dieksekusi oleh interpreter. Namun, ketika program **terhenti saat dijalankan**, artinya terjadi **Exception Error**.  

Exception Error hanya muncul **setelah baris kode tertentu dieksekusi**.  

| Nama Error        | Artinya |
|-------------------|---------|
| `AttributeError`  | Objek tidak memiliki atribut atau metode tertentu |
| `ImportError`     | Modul tidak ditemukan atau gagal diimpor |
| `IndexError`      | Akses indeks pada list/tuple/string di luar jangkauan |
| `KeyError`        | Kunci dictionary tidak ditemukan |
| `NameError`       | Variabel belum pernah didefinisikan |
| `TypeError`       | Operasi atau fungsi dengan tipe data yang salah |
| `ValueError`      | Nilai tidak sesuai dengan operasi/fungsi |
| `ZeroDivisionError` | Pembagian/modulus dengan nol |

üìñ Untuk hierarki lengkap Exception, silakan cek [dokumentasi Python](https://docs.python.org/3/library/exceptions.html#exception-hierarchy).

---

## 3. Logical Error
**Logical Error** adalah kesalahan logika program.  
Kode dapat berjalan tanpa error, namun output yang dihasilkan tidak sesuai dengan yang diharapkan.  

Ciri-cirinya:  
- Tidak ada pesan error  
- Program berjalan normal  
- Hasil akhir salah  

üîç Untuk mengatasinya, programmer harus meninjau kode, melakukan **debugging**, dan menguji dengan berbagai skenario.

---

# üîé Debugging Error

## Apa itu Debugging?
**Debugging** adalah proses menemukan dan memperbaiki bug/error dalam program.  
Metode ini biasanya dilakukan dengan:  

- **Trial and Error**  
- Menampilkan nilai variabel dengan `print()`  
- Menggunakan debugger bawaan Python (`pdb`)  
- Debugger bawaan IDE (PyCharm, VSCode, Spyder, dll.)

---

## Debugging dengan `print()`
Cara sederhana debugging adalah menampilkan nilai variabel menggunakan `print()`.  
Dengan ini, kita dapat memvalidasi apakah nilai variabel sesuai harapan atau tidak.

---

## Debugging dengan `pdb` (Python Debugger)
`pdb` adalah modul bawaan Python untuk debugging berbasis **command line**.  
Keunggulannya: dapat digunakan di **server/remote** yang tidak memiliki GUI.  

### Cara Menggunakan `pdb`:
1. **Menyisipkan `pdb.set_trace()` pada kode**
   ```python
   import pdb
   
   x = 10
   y = 5
   pdb.set_trace()
   hasil = x + y
   print(hasil)
   ```
2. **Post-Mortem Debugging**
   Digunakan setelah program selesai dijalankan dengan `pdb.pm()`.
3. **Menjalankan langsung dari terminal**
   ```bash
   python -m pdb file.py
   ```

---

# ‚ö° Exception Handling di Python

Python menyediakan 4 keyword utama untuk menangani error:

- `try` ‚Üí blok kode utama yang mungkin menghasilkan error  
- `except` ‚Üí menangani error yang terjadi di `try`  
- `else` ‚Üí dijalankan jika tidak ada error  
- `finally` ‚Üí selalu dijalankan, baik ada error maupun tidak  

---

### Contoh penggunaan `try-except`:
```python
try:
    x = int("abc")  
except ValueError:
    print("Terjadi ValueError: Nilai tidak valid!")
```

---

### `raise` Exception
`raise` digunakan untuk membangkitkan error secara manual:  

```python
raise Exception("Pesan error custom")
```

---

# üßπ Clean Code dengan PEP 8

## Apa itu Clean Code?
Clean Code adalah konsep menulis kode yang **rapi, mudah dibaca, dan mudah dipahami**.  
Python memiliki standar **PEP 8** sebagai panduan menulis kode bersih.  

üìö Referensi tambahan:  
- [10 Must-Know Patterns for Clean Code](https://dev.to/alexomeyer/10-must-know-patterns-for-writing-clean-code-with-python-56bf)  
- [Clean Code Python](https://github.com/zedr/clean-code-python)  
- [TestDriven.io Clean Code](https://testdriven.io/blog/clean-code-python/)  

üí° **Kapan boleh tidak mengikuti PEP 8?**  
- Jika membuat kode tetap kompatibel dengan versi lama  
- Jika kode existing tidak mengikuti PEP 8  
- Jika mengikuti PEP 8 justru merusak kompatibilitas dengan software lain  

---

# üìö Case Studies

> Berikut beberapa studi kasus untuk melatih pemahaman tentang error handling dan debugging di Python.  

---

## Case Study 1: Dictionary Produk Motor

### Soal
Roni membuat dictionary produk motor sport, namun programnya error.

```python
produk_motor = {
    "Suzuki Hayabusa": "2005",
    "Ducati Monster": "2012",
    "Honda CB1000": "2013",
}

for produk tahun in Produk_motor.items()
    print("fMotor Sport: {produk} diproduksi pada tahun {produk}")
```

### 1A. Perbaikan Syntax
```python
produk_motor = {
    "Suzuki Hayabusa": "2005",
    "Ducati Monster": "2012",
    "Honda CB1000": "2013",
}

for produk, tahun in produk_motor.items():
    print(f"Motor Sport: {produk} diproduksi pada tahun {tahun}")
```

### 1B. Debugging dengan `pdb`
```python
import pdb

produk_motor = {
    "Suzuki Hayabusa": "2005",
    "Ducati Monster": "2012",
    "Honda CB1000": "2013",
}

pdb.set_trace()

for produk, tahun in produk_motor.items():
    print(f"Motor Sport: {produk} diproduksi pada tahun {tahun}")
```

‚úÖ Output yang diharapkan:  
```
Motor Sport: Suzuki Hayabusa diproduksi pada tahun 2005.
Motor Sport: Ducati Monster diproduksi pada tahun 2012.
Motor Sport: Honda CB1000 diproduksi pada tahun 2013.
```

---

## Case Study 2: Program Penghitung Pajak Penghasilan

### üìù Deskripsi Masalah
Kevin, seorang pegawai pajak, ingin membuat program sederhana untuk menghitung pajak penghasilan.  
Ketentuannya:  
- Pajak dikenakan sebesar **5% dari penghasilan**  
- Total akhir dihitung dengan rumus:  
  ```
  total = penghasilan - (penghasilan * pajak)
  ```
- Program awal Kevin memiliki banyak error sintaks dan belum bisa menangani exception.  

---

### 2A. Perbaikan Kesalahan Syntax
```python
def menghitung_pajak():
    PAJAK = 0.05
    
    while True:
        penghasilan = int(input("Masukan Penghasilan Anda: "))
        biaya_pajak = penghasilan * PAJAK
        total_akhir = penghasilan - biaya_pajak
        print(f"Pajak yang harus dibayar adalah {biaya_pajak}, sehingga total akhir penghasilan adalah {total_akhir}")
        break

menghitung_pajak()
```

---

### 2B. Menambahkan Try dan Except
```python
def menghitung_pajak():
    PAJAK = 0.05
    try:
        while True:
            penghasilan = int(input("Masukan Penghasilan Anda: "))
            biaya_pajak = penghasilan * PAJAK
            total_akhir = penghasilan - biaya_pajak
            print(f"Pajak yang harus dibayar adalah {biaya_pajak}, sehingga total akhir penghasilan adalah {total_akhir}")
            break
    except:
        print("Exception telah terjadi")

menghitung_pajak()
```

---

### 2C. Menangani Exception Lebih Spesifik
```python
def menghitung_pajak():
    PAJAK = 0.05
    try:
        while True:
            penghasilan = int(input("Masukan Penghasilan Anda: "))
            biaya_pajak = penghasilan * PAJAK
            total_akhir = penghasilan - biaya_pajak
            print(f"Pajak yang harus dibayar adalah {biaya_pajak}, sehingga total akhir penghasilan adalah {total_akhir}")
            break
    except NameError:
        print("Nama variabel yang digunakan tidak sesuai!")
    except ValueError:
        print("Nilai bukan tipe data integer!")

menghitung_pajak()
```

---

### 2D. Menambahkan Validasi Input
```python
def menghitung_pajak():
    PAJAK = 0.05
    try:
        while True:
            penghasilan = int(input("Masukan Penghasilan Anda: "))
            
            if penghasilan > 0:
                biaya_pajak = penghasilan * PAJAK
                total_akhir = penghasilan - biaya_pajak
                print(f"Pajak yang harus dibayar adalah {biaya_pajak}, sehingga total akhir penghasilan adalah {total_akhir}")
                break
            else:
                raise Exception("Input penghasilan harus > 0")
                
    except NameError:
        print("Nama variabel yang digunakan tidak sesuai!")    
    except ValueError:
        print("Nilai bukan tipe data integer!")

menghitung_pajak()
```

---

## Case Study 3: Program Menghitung Bangun Ruang

### üìù Deskripsi Masalah
Anggun membuat program untuk menghitung **volume kubus** dan **volume balok**.  

---

### 3A. Menambahkan Docstring
```python
def menghitung_volume_kubus(r):
    """Function ini untuk menghitung volume kubus"""
    return r**3

def menghitung_volume_balok(panjang, lebar, tinggi):
    """Function ini untuk menghitung volume balok"""
    return panjang * lebar * tinggi
```

---

### 3B. Memperbaiki Format sesuai PEP 8
```python
def menghitung_volume_kubus(r):
    """Function ini untuk menghitung volume kubus"""
    return r**3


def menghitung_volume_balok(panjang, lebar, tinggi):
    """Function ini untuk menghitung volume balok"""
    return panjang * lebar * tinggi


nama_bangun_ruang = input("Masukan Nama Bangun Ruang: ")

if nama_bangun_ruang == "kubus":
    r = int(input("Masukan nilai rusuk: "))
    print(menghitung_volume_kubus(r))
elif nama_bangun_ruang == "balok":
    panjang = int(input("Masukan nilai panjang: "))
    lebar = int(input("Masukan nilai lebar: ")) 
    tinggi = int(input("Masukan nilai tinggi: "))
    print(menghitung_volume_balok(panjang, lebar, tinggi))
```

---

### 3C. Perbaikan Syntax dan Indentasi
```python
def menghitung_volume_kubus(r):
    """Function ini untuk menghitung volume kubus"""
    return r**3


def menghitung_volume_balok(panjang, lebar, tinggi):
    """Function ini untuk menghitung volume balok"""
    return panjang * lebar * tinggi


nama_bangun_ruang = input("Masukan Nama Bangun Ruang: ")

if nama_bangun_ruang == "kubus":
    r = int(input("Masukan nilai rusuk: "))
    print(menghitung_volume_kubus(r))
elif nama_bangun_ruang == "balok":
    panjang = int(input("Masukan nilai panjang: "))
    lebar = int(input("Masukan nilai lebar: ")) 
    tinggi = int(input("Masukan nilai tinggi: "))
    print(menghitung_volume_balok(panjang, lebar, tinggi))
```

---

### 3D. Menambahkan Error Handling
```python
def menghitung_volume_kubus(r):
    """Function ini untuk menghitung volume kubus"""
    return r**3


def menghitung_volume_balok(panjang, lebar, tinggi):
    """Function ini untuk menghitung volume balok"""
    return panjang * lebar * tinggi


nama_bangun_ruang = input("Masukan Nama Bangun Ruang: ")

try:
    if nama_bangun_ruang == "kubus":
        r = int(input("Masukan nilai rusuk: "))
        print(menghitung_volume_kubus(r))
    elif nama_bangun_ruang == "balok":
        panjang = int(input("Masukan nilai panjang: "))
        lebar = int(input("Masukan nilai lebar: ")) 
        tinggi = int(input("Masukan nilai tinggi: "))
        print(menghitung_volume_balok(panjang, lebar, tinggi))
    else:
        raise Exception("Terjadi kesalahan Input Nama Bangun Ruang")

except ValueError:
    print("Nilai bukan tipe data Integer!")

finally:
    print("Sekian dan terima kasih!")
```

---

# üéØ Kesimpulan Akhir

- Python memiliki tiga jenis error utama: **Syntax Error, Exception Error, dan Logical Error**  
- Debugging dapat dilakukan dengan `print()` atau modul `pdb`  
- Error dapat ditangani dengan `try-except-raise-finally`  
- Menulis kode sesuai **PEP 8** membuat program lebih profesional dan mudah dipahami  
- Studi kasus nyata membantu kita lebih siap menghadapi error dalam pemrograman  
